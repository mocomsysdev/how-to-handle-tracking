개발할 시스템의 간략한 요구사항을 정리해 보면 다음과 같습니다.


[ 요구 사항 ]
``````
1) 하나의 거래는 복수의 프로세스 처리로 이루어진다. 예) 송신->허브->수신 
2) 거래를 처리하는 각 단계의 프로세스는 개별적인 트래킹 로그를 발생시킨다.
3) 로그처리 시스템은 각 단계별 프로세스의 로그를 수집하여 특정 테이블에 적재한다.
4) 송신 허브 수신 각 단계별로 수집된 로그에서 거래의 최종 처리 상태를 확인할 수 있도록 요약 정보를 생성하여 적재한다.
``````

위의 요구사항을 그림으로 표현하면 다음과 같습니다.

![거래 단계별 트래킹](./images/fig01.요구사항.png)

트래킹 메시지 내용에 대해서는 아직 언급하지 않겠습니다. 트래킹 메시지 발생 구조에 집중하여 시스템 설계를 진행해 봅시다.

우선 새롭계 설계할 시스템의 걔선 포인트를 찾기위해 기존 처리 방식을 간략히 설명하고자 합니다.

아래 그림에서와 같이 기존 처리 방식은 시스템 차원에서 접근했다기 보다는 트래킹 로그를 처리하는 기능적 측면에서만 고려하고 있어서 양적 측면과 기능적 측면 모두에서 확장을 고려하기엔 부족한 모습입니다.

[기존 시스템 구성 그림]

기존 로그처리 방식에서 개선점을 찾아 본다면 다음과 같이 정리해 볼 수 있을 것 같습니다.

```
    - H/W 확장에 따른 시스템(로그처리 S/W) 확장가능
    - 다양한 로그 채널 허용 
    - 대량 데이터 처리
    - 트래킹 로그 활용
```

아래는 개선점을 고려한 초기 아키텍처 모습입니다.

![새로운 아키텍처](./images/fig03.NEW아키텍처.png)

